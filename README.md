# 矿山充填系统参数与计算可视化系统

## 项目简介

这是一个矿山充填系统计算工具，为矿山工程师和设计人员提供完整的充填系统参数计算、设备选型和可视化分析功能。系统采用现代化的Web技术构建，具有直观的用户界面和计算能力。

## 主要功能

### 1. 矿山开采计算
- **年平均充填实体量**：基于采充比和年矿石产量的计算
- **日平均充填实体量**：年充填量除以年工作天数
- **日平均充填料浆量**：考虑沉缩比和流失系数的料浆量
- **日充填料浆制备能力**：考虑不均衡系数的制备能力
- **小时充填料浆制备能力**：日制备能力除以日工作时间

### 2. 材料消耗计算
- **料浆密度**：基于组分密度和浓度的精确计算
- **集料质量占比**：每m³料浆中集料的质量
- **胶凝材料质量占比**：每m³料浆中胶凝材料的质量
- **年度消耗量**：胶凝材料和尾砂的年消耗量

### 3. 浓密机选型计算
- **浓密机直径**：基于处理能力的尺寸计算
- **沉积床体积**：单位高度的沉积床体积
- **总高度设计**：进料井、沉积床、自由沉降高度综合

### 4. 絮凝剂设备选型
- **絮凝剂用量**：基于充填能力的小时用量
- **用水量计算**：絮凝剂溶液制备用水量
- **制备能力**：考虑不均衡系数的日制备能力

### 5. 溢流水计算
- **来料流量**：尾矿来料的小时处理量
- **底流流量**：浓密机底流的小时流量
- **溢流水量**：系统溢流的总水量

## 技术特点

### 前端技术
- **HTML5**：语义化标签，现代化结构
- **CSS3**：CSS变量、Grid布局、Flexbox、动画效果
- **JavaScript ES6+**：模块化编程、类、箭头函数、模板字符串
- **响应式设计**：支持各种设备尺寸，移动端友好

### 图表可视化
- **ECharts 5.4.3**：专业的图表库，支持多种图表类型
- **实时数据更新**：参数变化时图表自动更新
- **交互式图表**：支持缩放、提示、图例等交互功能

### 数学公式渲染
- **MathJax 3**：专业的数学公式渲染引擎
- **LaTeX支持**：支持复杂的数学公式显示
- **实时渲染**：公式随参数变化实时更新

### 数据管理
- **本地存储**：自动保存用户配置和参数
- **数据导出**：支持JSON格式的数据导出
- **配置管理**：支持多套配置的保存和加载

## 使用方法

### 1. 基本操作

#### 启动系统
1. 在浏览器中打开 `index.html` 文件
2. 等待页面完全加载（包括MathJax公式渲染）
3. 系统会自动加载上次保存的配置

#### 参数输入
1. 在左侧参数面板中输入相应的数值
2. 系统会实时计算并更新结果
3. 所有输入框都支持键盘输入和鼠标滚轮调整

#### 查看结果
1. 在中间区域查看详细的计算结果
2. 使用选项卡切换不同的计算模块
3. 在右侧查看统计信息和图表

### 2. 高级功能

#### 主题切换
- 点击右上角的月亮/太阳图标切换深色/浅色主题
- 主题偏好会自动保存

#### 数据导出
- 点击"导出数据"按钮导出当前计算结果
- 导出格式为JSON，包含所有参数和结果
- 文件名自动包含导出日期

#### 配置保存
- 点击"保存配置"按钮保存当前参数设置
- 系统会自动保存配置到本地存储
- 下次打开时会自动加载保存的配置

#### 参数重置
- 点击"重置"按钮恢复所有参数到默认值
- 系统会提示确认操作

### 3. 快捷键

- **Ctrl + S**：保存配置
- **Ctrl + E**：导出数据
- **Ctrl + T**：切换主题

## 参数说明

### 矿山参数
- **Pa (t/a)**：充填法年矿石产量
- **γk (t/m³)**：矿石密度
- **z (m³/m³)**：采充比，范围0.8-1.0
- **T (d)**：年工作天数

### 充填参数
- **K1**：充填沉缩比，范围1.05-1.2
- **K2**：流失系数，范围1.02-1.05
- **K3**：充填作业不均衡系数，范围1.2-1.5
- **t (h)**：日有效充填时间

### 材料参数
- **Pd (t/a)**：选厂年产尾砂量
- **ρc (t/m³)**：胶凝材料密度
- **ρa (t/m³)**：集料密度
- **N**：集料与胶凝材料质量比，范围4-20
- **Cw (%)**：充填浓度
- **Cd (%)**：浓密机底流浓度
- **Ca (%)**：尾矿来料浓度

### 设计参数
- **V (万m³)**：采空区体积
- **q (m³/h)**：设计充填能力

## 计算公式

### 核心计算公式

#### 充填量计算
```
Qa = z × Pa / γk                    # 年平均充填实体量
Qc = Qa / T                         # 日平均充填实体量
Qs = K1 × K2 × Qc                  # 日平均充填料浆量
Qd = K3 × Qs                        # 日充填料浆制备能力
qh = Qd / t                         # 小时充填料浆制备能力
```

#### 料浆密度计算
```
ρm = (ρc × ρa × (1+N)) / (Cw × (ρa + N×ρc) + (1-Cw) × ρc×ρa×(1+N))
```

#### 材料消耗计算
```
ma = ρm × (N × Cw) / (1+N)         # 集料质量
mc = ρm × Cw / (1+N)               # 胶凝材料质量
Qj = q × t × T × mc                # 胶凝材料年消耗量
Q砂 = q × t × T × ma               # 全尾砂年消耗量
```

#### 浓密机选型
```
D = 2 × √(q / (t × μ × π))        # 浓密机直径
V1 = π × D² / 4                    # 单位高度沉积床体积
H = H0 + H1 + H2                   # 总高度
```

## 系统要求

### 浏览器兼容性
- **Chrome** 80+
- **Firefox** 75+
- **Safari** 13+
- **Edge** 80+

### 硬件要求
- **内存**：建议4GB以上
- **存储**：至少100MB可用空间
- **网络**：需要CDN访问（首次加载图表库和数学公式引擎）

## 安装部署

### 本地部署
1. 下载所有项目文件到本地目录
2. 确保文件结构完整：
   ```
   项目目录/
   ├── index.html          # 主页面
   ├── styles.css          # 样式文件
   ├── script.js           # 功能脚本
   └── README.md           # 说明文档
   ```
3. 在浏览器中打开 `index.html`

### Web服务器部署
1. 将项目文件上传到Web服务器
2. 确保服务器支持静态文件访问
3. 配置适当的MIME类型
4. 访问对应的URL即可使用

## 故障排除

### 常见问题

#### 公式不显示
- 检查网络连接，确保能访问MathJax CDN
- 刷新页面，等待MathJax完全加载
- 检查浏览器控制台是否有错误信息

#### 图表不显示
- 检查网络连接，确保能访问ECharts CDN
- 检查浏览器是否支持Canvas
- 尝试刷新页面

#### 计算错误
- 检查输入参数是否在合理范围内
- 确保所有必填参数都已输入
- 查看浏览器控制台的错误信息

#### 数据保存失败
- 检查浏览器是否支持localStorage
- 确保浏览器没有禁用本地存储
- 尝试清除浏览器缓存后重试

### 性能优化建议

#### 浏览器优化
- 使用现代浏览器的最新版本
- 启用硬件加速
- 关闭不必要的浏览器扩展

#### 系统优化
- 定期清理浏览器缓存
- 关闭不必要的后台程序
- 确保有足够的内存空间

## 更新日志

### v2.0 (当前版本)
- 全新的现代化UI设计
- 响应式布局，支持移动端
- 深色/浅色主题切换
- 实时计算和图表更新
- 数据导出和配置保存
- 自动保存功能
- 键盘快捷键支持

### v1.0 (原始版本)
- 基础计算功能
- 简单的HTML界面
- 基础图表显示

## 技术支持

### 联系方式
- **项目维护**：AI助手
- **技术支持**：通过GitHub Issues提交问题
- **功能建议**：欢迎提交功能改进建议

### 贡献指南
1. Fork项目到个人仓库
2. 创建功能分支
3. 提交代码更改
4. 创建Pull Request

## 许可证

本项目采用MIT许可证，详情请查看LICENSE文件。

## 免责声明

本系统仅用于工程计算参考，实际工程应用请以专业工程师的计算结果为准。开发者不对使用本系统产生的任何后果承担责任。

---

**矿山充填系统计算器 v2.0** - 让复杂的工程计算变得简单直观